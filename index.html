<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Learn Lua Scripting</title>
<style>
    :root {
        --bg-dark: #1e1e2f;
        --bg-mid: #2b2b45;
        --bg-light: #3b3b5c;
        --accent: #6c63ff;
        --accent-hover: #817aff;
        --text-light: #f5f5f5;
        --text-muted: #b5b5d1;
        --output-bg: #24243b;
    }
    body {
        font-family: 'Segoe UI', Arial, sans-serif;
        background: var(--bg-dark);
        color: var(--text-light);
        margin: 0;
    }
    header {
        background: var(--bg-light);
        padding: 2rem 1rem;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    header h1 { margin: 0; font-size: 2.2rem; }
    header p { color: var(--text-muted); font-size: 1.1rem; }
    .version {
        background: var(--accent);
        color: white;
        display: inline-block;
        padding: 0.3rem 0.7rem;
        border-radius: 6px;
        font-size: 0.9rem;
        margin-top: 0.5rem;
    }
    nav {
        background: var(--bg-mid);
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        border-bottom: 2px solid var(--accent);
    }
    nav a {
        color: var(--text-light);
        text-decoration: none;
        margin: 0.5rem 1rem;
        padding: 0.6rem 1rem;
        border-radius: 8px;
        transition: background 0.3s;
    }
    nav a:hover { background: var(--accent-hover); }
    section {
        display: none;
        max-width: 850px;
        margin: 2rem auto;
        background: var(--bg-mid);
        border-radius: 10px;
        padding: 2rem;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        line-height: 1.7;
    }
    section.active {
        display: block;
        animation: fadeIn 0.5s ease-in;
    }
    @keyframes fadeIn {
        from {opacity: 0; transform: translateY(10px);}
        to {opacity: 1; transform: translateY(0);}
    }
    pre {
        background: #2e2e44;
        padding: 1rem;
        border-radius: 5px;
        overflow-x: auto;
        font-size: 1rem;
    }
    h2 {
        color: var(--accent);
        border-bottom: 2px solid var(--accent);
        padding-bottom: 0.4rem;
    }
    .quiz, .output, .explainer {
        background: #24243b;
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1.5rem;
        white-space: pre-wrap;
    }
    input, textarea {
        width: 100%;
        padding: 0.5rem;
        border-radius: 5px;
        border: none;
        margin-top: 0.5rem;
        font-family: Consolas, monospace;
        background: #2e2e44;
        color: var(--text-light);
    }
    textarea { height: 200px; resize: vertical; }
    button {
        background: var(--accent);
        color: white;
        border: none;
        padding: 0.6rem 1.2rem;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 1rem;
        font-size: 1rem;
        transition: background 0.3s;
    }
    button:hover { background: var(--accent-hover); }
    footer {
        background: var(--bg-mid);
        color: var(--text-muted);
        text-align: center;
        padding: 1rem;
        margin-top: 2rem;
        font-size: 0.9rem;
    }
    .progress {
        margin-top: 1rem;
        background: #3d3d66;
        border-radius: 6px;
        overflow: hidden;
    }
    .progress-bar {
        height: 10px;
        background: var(--accent);
        width: 0%;
        transition: width 0.4s ease;
    }
</style>
</head>
<body>

<header>
    <h1>Learn Lua Scripting</h1>
    <p>Your guide to mastering Lua ‚Äî from basics to advanced programming!</p>
    <div class="version">v1.1.0</div>
</header>

<nav>
    <a href="#" onclick="showSection('home')">Home</a>
    <a href="#" onclick="showSection('lesson1')">Lesson 1</a>
    <a href="#" onclick="showSection('lesson2')">Lesson 2</a>
    <a href="#" onclick="showSection('lesson3')">Lesson 3</a>
    <a href="#" onclick="showSection('lesson4')">Lesson 4</a>
    <a href="#" onclick="showSection('lesson5')">Lesson 5</a>
    <a href="#" onclick="showSection('quiz')">Quiz</a>
    <a href="#" onclick="showSection('playground')">Playground</a>
</nav>

<section id="home" class="active">
    <h2>Welcome to Lua Learning!</h2>
    <p>Lua is a lightweight, high-level scripting language known for its simplicity and flexibility.</p>
    <ul>
        <li>üß† Simple, beginner-friendly syntax</li>
        <li>üéÆ Used in <strong>Roblox</strong>, <strong>game engines</strong>, and embedded systems</li>
        <li>‚öôÔ∏è Great for automation and prototyping</li>
    </ul>
</section>

<section id="lesson1">
    <h2>Lesson 1: Variables and Printing</h2>
    <pre><code>local name = "Lua"
print("Hello, " .. name)</code></pre>
</section>

<section id="lesson2">
    <h2>Lesson 2: Tables (Lua‚Äôs Arrays & Dictionaries)</h2>
    <pre><code>local fruits = {"apple", "banana", "cherry"}
print(fruits[1])</code></pre>
</section>

<section id="lesson3">
    <h2>Lesson 3: Loops and Functions</h2>
    <pre><code>-- Example 1: Function that prints letters
local function printABC()
    print("A")
    print("B")
    print("C")
end

printABC()
printABC()

-- Example 2: Function that adds two numbers
local function addition(number1, number2)
    local result = number1 + number2
    print(result)
end

addition(1, 3)</code></pre>
</section>

<section id="lesson4">
    <h2>Lesson 4: Conditionals</h2>
    <pre><code>local age = 18
if age >= 18 then
    print("You are an adult!")
else
    print("You are a minor.")
end</code></pre>
</section>

<section id="lesson5">
    <h2>Lesson 5: Roblox Lua Basics</h2>
    <pre><code>local part = Instance.new("Part")
part.Anchored = true
part.Parent = workspace</code></pre>
</section>

<section id="quiz">
    <h2>üß© Test Your Knowledge</h2>
    <div class="quiz"><p><strong>1.</strong> What keyword declares a local variable?</p><input type="text" id="q1"></div>
    <div class="quiz"><p><strong>2.</strong> What operator joins two strings?</p><input type="text" id="q2"></div>
    <div class="quiz"><p><strong>3.</strong> What number does Lua start indexing from?</p><input type="number" id="q3"></div>
    <div class="quiz"><p><strong>4.</strong> What function outputs text?</p><input type="text" id="q4"></div>
    <div class="quiz"><p><strong>5.</strong> What is Lua‚Äôs main data structure?</p><input type="text" id="q5"></div>
    <button onclick="checkQuiz()">Submit Quiz</button>
    <p id="quizResult"></p>
    <div class="progress"><div id="progressBar" class="progress-bar"></div></div>
</section>

<section id="playground">
    <h2>üíª Lua Code Playground</h2>
    <p>Try Lua code below and see the simulated output instantly!</p>
    <textarea id="luaCode" placeholder="Example:&#10;local function printABC()&#10;  print('A')&#10;  print('B')&#10;  print('C')&#10;end&#10;&#10;printABC()&#10;printABC()&#10;&#10;local function addition(a,b)&#10;  local result = a + b&#10;  print(result)&#10;end&#10;&#10;addition(1,3)"></textarea>
    <button onclick="runLua()">‚ñ∂ Run Code</button>
    <div class="output" id="output">üíª Output will appear here...</div>
    <div class="explainer" id="explainer">üß† Code explainer will appear here...</div>
</section>

<footer>
    <p>¬© 2025 Learn Lua | Made with ‚ù§Ô∏è for learners | Hosted on GitHub Pages</p>
</footer>

<script>
function showSection(id) {
    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo(0, 0);
}

function checkQuiz() {
    const answers = { q1:"local", q2:"..", q3:"1", q4:"print", q5:"table" };
    let score = 0;
    for (let key in answers) {
        const val = document.getElementById(key).value.trim().toLowerCase();
        if (val === answers[key]) score++;
    }
    const total = Object.keys(answers).length;
    const percent = Math.round((score/total)*100);
    document.getElementById("quizResult").innerHTML = `<strong>You scored ${score}/${total} (${percent}%)!</strong>`;
    document.getElementById("progressBar").style.width = percent + "%";
}

// üß© Lua output simulator ‚Äî handles multiple print()s in sequence
function runLua() {
    const code = document.getElementById("luaCode").value.trim();
    const outputEl = document.getElementById("output");
    const explainerEl = document.getElementById("explainer");

    if (!code) {
        outputEl.textContent = "‚ö†Ô∏è Please enter Lua code.";
        return;
    }

    let output = "";
    const lines = code.split(/\r?\n/);
    const printRegex = /print\s*\((.*?)\)/g;

    lines.forEach(line => {
        line = line.trim();
        let match;
        while ((match = printRegex.exec(line)) !== null) {
            let content = match[1];
            try {
                if (/^["'].*["']$/.test(content)) output += content.slice(1, -1) + "\n";
                else if (/^[0-9+\-*/ ().]+$/.test(content)) output += eval(content) + "\n";
                else output += content + "\n";
            } catch {
                output += "‚ö†Ô∏è Error in: " + content + "\n";
            }
        }
    });

    outputEl.textContent = output || "‚úÖ Code executed successfully (no output).";

    let exp = "";
    if (code.includes("local")) exp += "üß© You‚Äôre creating local variables.\n";
    if (code.includes("print")) exp += "üñ®Ô∏è You‚Äôre printing output to the console.\n";
    if (code.includes("function")) exp += "üß† You defined a reusable function.\n";
    if (code.match(/if .* then/)) exp += "‚öñÔ∏è Your code checks a condition.\n";
    if (code.match(/for .* do/)) exp += "üîÅ You‚Äôre looping.\n";
    if (code.includes("{")) exp += "üì¶ You‚Äôre using a table (array or dictionary).\n";
    if (!exp) exp = "ü§î Couldn‚Äôt detect specific Lua features.";
    explainerEl.textContent = exp;
}
</script>

</body>
</html>
